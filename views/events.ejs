<!DOCTYPE html>
<html>
<head>
    <title>Events</title>

</head>


<body>
<% include partials/nav.ejs %>
<div class="container">

    <%
    if (data.status !== null && data.status != undefined ){
        let msg = data.status == 400 ? "You made a request to an invalid connection": "Requested connection not found.";
    %>
    <div class="alert alert-warning alert-dismissible fade show mt-2" role="alert">
        <strong><%= msg %></strong>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <% }
    %>
    <!--       content goes here -->
    <div class="row h-100">
        <div class="col-12 my-auto">
            <div class="jumbotron bg-white">
                <% for(let i=0; i<data.topics.length; i++){ %>
                    <h3> <%= data.topics[i] %></h3>
                    <ul class="list-group list-group-flush ml-3">
                        <% for(let j=0; j < data.connections.length; j++){
                            if(data.connections[j].connectionTopic === data.topics[i] ){%>
                            <li class="list-group-item border-0"><a href="/connection/<%= data.connections[j].connectionId%>"><%= data.connections[j].connectionName %></a></li>
                           <% } %>

                       <% }%>
                    </ul>
               <% } %>
        </div>
    </div>

</div>
</div>




<% include ./footer.ejs %>

</body>

</html>
